<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scratch & Win</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    #popupBox {
      position: relative;
    }

    #popupClose {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 24px;
      background: none;
      border: none;
      color: white;
      cursor: pointer;
    }

    #popupClose:hover {
      color: red;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://royalebet.net/front/include/images/royalebet.png" alt="Company Logo">
    <h1>ğŸ‰ Scratch & Win ğŸ§§ </h1>
  </header>

  <p id="instruction">ğŸ‘‰ Use your finger to scratch and reveal!</p>

  <div id="scratchContainer">
    <div id="prizeLayer">
      <img id="prizeImage" src="https://static.vecteezy.com/system/resources/thumbnails/053/236/126/small_2x/paper-pack-reward-angpao-chinese-icon-png.png" alt="Prize">
      <p id="prizeText"><strong></strong></p>
    </div>
    <canvas id="scratchCanvas" width="300" height="150"></canvas>
  </div>

  <button id="resetBtn">Reset</button>
  <div id="secretResetArea"></div>
  
  <audio id="bgMusic" src="https://github.com/Elynnn-wc/my-music/raw/refs/heads/main/Tuning%20No.2.mp3" loop></audio>
  <audio id="winSound" src="https://github.com/Elynnn-wc/my-music/raw/refs/heads/main/brawl-stars-win-winning-sounds-sound-effect-brawl-stars-hd-sound-effects.mp3" preload="auto"></audio>

  <div id="popupOverlay">
    <div id="popupBox">
      <button id="popupClose">&times;</button>
      <h2>ğŸ‰ Youâ€™ve Won a Prize!</h2>
      <img id="popupPrizeImage" src="https://static.vecteezy.com/system/resources/thumbnails/053/236/126/small_2x/paper-pack-reward-angpao-chinese-icon-png.png" alt="Prize" />
      <p id="popupPrizeText"><strong></strong></p>
      <div id="claimCodeBox" style="margin-top:15px;">
        <p style="margin-bottom:5px; font-weight:bold; color:#222;">ğŸŸï¸ Claim Code:</p>
        <div style="display:flex; justify-content:center; align-items:center;">
          <input id="claimCode" type="text" readonly />
          <button onclick="copyCode()" style="padding:6px 12px; font-size:14px;">Copy</button>
        </div>
      </div>
      <p style="color: red; font-weight: bold; margin-top: 15px;">
        âš ï¸ Please take a screenshot and send it to admin before closing.
      </p>
    </div>
  </div>

  <!-- ========== Extra Content Area ========== -->

  <section id="howToPlay" style="margin-top: 50px; color: #fff; text-align: center;">
    <h3 style="font-size: 20px; margin-bottom: 10px;">ğŸ“‹ How to Play</h3>
    <ol style="list-style: decimal; text-align: left; max-width: 320px; margin: 0 auto; font-size: 15px; line-height: 1.6;">
      <li>Put Your â€œFingerâ€ at grey zone will activate the scratch card.</li>
      <li>Scratch using your finger or mouse to reveal the prize.</li>
      <li>Take a screenshot of your claim code after winning.</li>
      <li>Send it to the admin to redeem your reward.</li>
    </ol>
  </section>

  <section id="promo" style="margin-top: 40px; color: #ccc; text-align: center;">
    <h3 style="font-size: 18px;">ğŸ Daily Bonus 50%</h3>
    <p style="font-size: 14px;">Try your luck every day â€“ exciting prizes await!</p>
  </section>

  <footer style="margin-top: 40px; font-size: 13px; color: #aaa; text-align: center;">
    <p>âš ï¸ Each person is allowed only one scratch attempt.</p>
    <p>ğŸ“¸ Screenshot is mandatory to claim the prize.</p>
  </footer>

  <!-- Optional Light Particle Effect (for decoration) -->
  <canvas id="bgParticles" style="position:fixed; top:0; left:0; width:100%; height:100%; z-index:-1;"></canvas>

  <script>
    const canvas = document.getElementById("bgParticles");
    const ctx = canvas.getContext("2d");
    let w, h, particles = [];

    function resizeCanvas() {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function createParticles(num) {
      particles = [];
      for (let i = 0; i < num; i++) {
        particles.push({
          x: Math.random() * w,
          y: Math.random() * h,
          r: Math.random() * 2 + 1,
          d: Math.random() * 1 + 0.5
        });
      }
    }

    function drawParticles() {
      ctx.clearRect(0, 0, w, h);
      ctx.fillStyle = "rgba(255,255,255,0.3)";
      ctx.beginPath();
      for (let i = 0; i < particles.length; i++) {
        let p = particles[i];
        ctx.moveTo(p.x, p.y);
        ctx.arc(p.x, p.y, p.r, 0, Math.PI * 2, true);
      }
      ctx.fill();
      updateParticles();
    }

    function updateParticles() {
      for (let i = 0; i < particles.length; i++) {
        let p = particles[i];
        p.y += p.d;
        if (p.y > h) {
          p.x = Math.random() * w;
          p.y = 0;
        }
      }
    }

    createParticles(100);
    setInterval(drawParticles, 33);
  </script>

  <!-- Load main script -->
  <script src="main.js"></script>
</body>
</html>
